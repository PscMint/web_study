## 事件简介

### 事件对象的概念

#### 当事件发生时，浏览器会创建一个 **`event` 对象**，将详细信息放入其中，并将其作为参数传递给处理程序。

而对象中包含的具体属性类型则往往和具体发生的事件相关，比如键盘事件具有一组属性，指针事件具有另一组属性，后面将结合具体的常见事件具体分析

## 冒泡和捕获

### 冒泡

当一个事件发生在一个元素上，它会首先运行在该元素上的处理程序，然后运行其父元素上的处理程序，然后一直向上到其他祖先上的处理程序。

### `e.target`和`e.currentTarget`区别

1. `e.target`是真正触发了事件的元素对象，比如在click事件中，就是文档中真正被点击的元素
2. `event.currentTarget`所代表的是拥有该处理程序的对象，一般来说当他的孩子或者它本身触发事件的话，这个处理程序都是会被调用的

### 阻止冒泡

使用方法：在子元素的事件处理程序上调用`event.stopPropagation()`,当子元素触发某个事件后，父元素对应的处理程序不会被调用

引用教程中的例子：

问题所在：冒泡很方便。不要在没有真实需求时阻止它：除非是显而易见的，并且在架构上经过深思熟虑的。

例如：

1. 我们创建了一个嵌套菜单，每个子菜单各自处理对自己的元素的点击事件，并调用 `stopPropagation`，以便不会触发外部菜单。
2. 之后，我们决定捕获在整个窗口上的点击，以追踪用户的行为（用户点击的位置）。有些分析系统会这样做。通常，代码会使用 `document.addEventListener('click'…)` 来捕获所有的点击。
3. 我们的分析不适用于被 `stopPropagation` 所阻止点击的区域。太伤心了，我们有一个“死区”。

### 捕获

事件传播的三个阶段

1. 捕获阶段（Capturing phase）—— 事件（从 Window）向下走近元素。
2. 目标阶段（Target phase）—— 事件到达目标元素。
3. 冒泡阶段（Bubbling phase）—— 事件从元素上开始冒泡。

捕获：先调用父元素的处理程序，后运行子元素的处理程序，一般来是应用的较少

开启捕获的方法：`addEventListener("onclick",process,true)`

